"use strict";wf.define("timeList",[],function(){return function(){var r=8,t=20,n=10,i='<li data-value="{0}" class="wf-select-option">{1}<\/li>',u=function(){var n=":";return{toTime:t=>{var i=t%60;return Math.floor(t/60)+n+(i<10?"0"+i:i)},toMinutes:t=>{var i=t.split(n);return parseInt(i[0])*60+parseInt(i[1])}}}();return{render:function(f){var h=[],o=new Date,c=o.getHours(),l=o.getMinutes(),e,s;if(c>=t)return i.format("","下班");for(e=o.format("yyyy-MM-dd")==f?c*60+Math.ceil(l/n)*n:r*60;e<t*60;e=e+n)s=u.toTime(e),h.push(i.format(s,s));return h.join("")}}}()});wf.require("page").render("conference",["UI.Select"],function(){var i=this,r=(()=>{var n=(n,t,i)=>{$.post(n,t,n=>{$.isFunction(i)&&i(n)})};return{save:(t,i)=>{n("conference/save",t,i)},remove:(t,i)=>{n("conference/delete",conference,i)}}})(),n=wf.require("timeList"),t="conferenceTemp",u=$("."+t).remove().removeClass(t),f=function(n,t,i){var r=n.find('[name="title"]'),u=n.find('[name="userName"]'),f=n.find('[name="roomNumber"]').val(),e=n.find('[name="startTime"]').val(),o=n.find('[name="endTime"]').val();return r.val()?u.val()?{title:r.val(),userName:u.val(),introduction:"",tableRoom:f,startTime:e,endTime:o,date:t,id:i}:(u.focus(),null):(r.focus(),null)};$(".meeting-add").click(function(){var o=$(this),t=u.clone(),e=o.prev().find(".meeting-date").html(),h=t.find(".wf-select-startTime"),c=t.find(".wf-select-endTime"),l=t.find(".wf-btn-save"),a=t.find(".wf-btn-delete"),s=$(".meeting-board");h.find(".wf-select-options").html(n.render(e));c.find(".wf-select-options").html(n.render(e));$(this).hide().prev().append(t);l.click(function(){var i=s.data("id"),n=f(t,e,i);n&&r.save(n,function(n){n.success&&(console.log("add success"),s.data("id",n.id))})});a.click(function(){t.remove();o.show()});i.refresh()})});